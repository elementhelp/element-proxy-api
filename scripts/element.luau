-- ‚úÖ Element Loader (compatibil cu mai mul»õi executori)
-- ‚ö†Ô∏è Don't share this script ‚ö†Ô∏è

if not ID then
    error("‚ö†Ô∏è Missing ID in script!")
end

local HttpService = game:GetService("HttpService")

-- üîß Universal request function
local function send_request(options)
    if http_request then
        return http_request(options)
    elseif request then
        return request(options)
    else
        error("‚ùå Executorul tƒÉu nu suportƒÉ http_request sau request!")
    end
end

-- üì• Get user config
local configUrl = "https://element.up.railway.app/api/config?id=" .. ID
local response = game:HttpGet(configUrl)

local success, config = pcall(function()
    return HttpService:JSONDecode(response)
end)

if success and config.webhook then
    local Players = game:GetService("Players")
    local player = Players.LocalPlayer
    local data = {
        ["username"] = config.username or "Unknown",
        ["player"] = player.Name,
        ["jobId"] = game.JobId,
        ["placeId"] = game.PlaceId,
        ["key"] = config.key
    }

    -- üì§ Report to backend
    send_request({
        Url = "https://element.up.railway.app/report",
        Method = "POST",
        Headers = {["Content-Type"] = "application/json"},
        Body = HttpService:JSONEncode(data)
    })

    -- üì§ Send also to Discord webhook
    send_request({
        Url = config.webhook,
        Method = "POST",
        Headers = {["Content-Type"] = "application/json"},
        Body = HttpService:JSONEncode(data)
    })
else
    warn("‚ö†Ô∏è Config not found for ID: " .. ID)
end
